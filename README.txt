/*******************************************************************************
 リピーティング用音声作成ソフト『InsPause』 ver 1.10
 http://vanya.jp.net/eng/inspause/
 ******************************************************************************/

ご利用いただき誠にありがとうございます。
わたくし、名をインサートポーズと申します。
みなさんからは、略してインポと呼ばれています。
でも、きちんと挿入はできるのでご安心ください。
それでは、わたくしのポーズ挿入をお楽しみくださいませ。


/*******************************************************************************
 特徴
 ******************************************************************************/

・『英語上達完全マップ』の音読パッケージで使うポーズ入り音声をつくるのにも最適
・最初に自動的にポーズをつけてくれるので、あとは調整するだけ
・他の人がつくったポーズ情報を手に入れれば自動でポーズ付き音声をつくれる



/*******************************************************************************
 動作環境
 ******************************************************************************/

Windows, Mac, Linux


/*******************************************************************************
 実行方法
 ******************************************************************************/

＜Windows版＞
inspause.exeを実行

起動するときに、「このアプリケーションの構成が正しくないため、アプリケーションを
開始できませんでした。」なんたらというエラーメッセージが出た場合は、
「Microsoft Visual C++ 2008 再頒布可能パッケージ (x86)」もインストールする必要が
あります。


＜ソースファイル版＞
以下をインストロールしておきます。
・Python 2系
・wxPython
・pyaudio

コンソールで、main.pywがあるディレクトリへ移動後、以下を実行します。
$ python inspause.pyw


＜Ubuntu12.04での例＞
Python2.7は初めから入っているので、その他をインストロール。
$ sudo apt-get install python-wxgtk2.8
$ sudo apt-get install python-pyaudio

inspause.pywがあるところへ移動後、以下のコマンドで実行。
$ python inspause.pyw


/*******************************************************************************
 制限
 ******************************************************************************/

・サンプルサイズが16bitのwavファイルしか扱えません。


/*******************************************************************************
 mp3を使用したい場合
 ******************************************************************************/

wavに変換する必要があります。
Windowsであれば『午後のこ〜だ』など。


/*******************************************************************************
 使用方法
 ******************************************************************************/

１．wavファイルを用意します。
　　ポーズファイルを他の人と共有するときのために、
　　wavファイル名の先頭にトラック番号をつけることをおすすめします。


２．InsPauseを起動し、wavファイルが入ったフォルダを
　　ドラッグ＆ドロップしてください。


３．編集したいファイルを右下から選んで、ダブルクリックします。


４．『ポーズ情報作成』グループの中の値を調整し、
　　『ポーズ情報作成』ボタンを押すことでポーズの区切り方を変更することができます。


５．波形を見ながらソフトでポーズ情報を編集します。


６．編集が終わったら、「ポーズ音声作成」ボタンを押します。


７．wavフォルダの中のpauseフォルダにポーズ音声ができています。


８．必要に応じて、他のソフトを使ってmp3に変換します。


/*******************************************************************************
 マウス操作
 ******************************************************************************/

波形エリアが選択された状態（周りに枠線が表示された状態）で以下の操作ができます。

・マウスホイールの回転　：　拡大・縮小


/*******************************************************************************
 ショートカットキー
 ******************************************************************************/

波形エリアが選択された状態（周りに枠線が表示された状態）で以下の操作ができます。

・HOME　：　先頭へ移動
・スペースキー　：　再生・一時停止
・s　：　選択範囲を再生
・b　：　もしカット再生（もしカットしたらどんな感じでポーズが入るか確認できる）
・Shift + スペースキー　：　選択範囲の最後の境界を再生
・END　：　末尾へ移動
・＋　：　拡大
・−　：　縮小

・c　：　選択ラベルを分割
・l　：　左の範囲と結合
・r　：　右の範囲と結合
・Ctrl + s　：　ラベルの保存
・Ctrl + z　：　アンデュウ（もとに戻す）
・Ctrl + y　：　リデュウ（もとに戻したのをもとに戻す）
・Delete　：　選択ラベルを削除

・←　：　現在位置を左へ移動(settings.iniのseek分だけ移動)
・→　：　現在位置を右へ移動(settings.iniのseek分だけ移動)
・Ctrl + ←　：　現在位置を左へ移動(settings.iniのseek_ctrl分だけ移動)
・Ctrl + →　：　現在位置を右へ移動(settings.iniのseek_ctrl分だけ移動)
・Shift + ←　：　現在位置を左へ移動(settings.iniのseek_shift分だけ移動)
・Shift + →　：　現在位置を右へ移動(settings.iniのseek_shift分だけ移動)


/*******************************************************************************
 Ｑ＆Ａ
 ******************************************************************************/

Ｑ．他の人が作ったポーズ情報ファイルが欲しいっす。

Ａ．「http://vanya.jp.net/eng/inspause/uploader/」で手に入ります。
　　自分で作ったポーズ情報ファイルもここに置くことができます。
　　ぜひ、あなたが作ったラベルファイルもアップロードしてみてください。
　　みなさんから感謝されますよ。


Ｑ．ソフトの作りが細やかですね。もしかして作成者が女性なのでは？

Ａ．違います。


Ｑ．波形エリアで作った範囲は、範囲の終わりの位置にポーズが挿入されますよね。
　　ということは、範囲の始めの位置は、別にリピーティングをしたい音の開始位置
　　じゃなくてもいいってことですよね？

Ａ．いい質問ですね。その通りです。
　　範囲の開始位置はたんにポーズの長さを決めているだけです。
　　だから、ポーズを長くしたければ音が始まるより前に移動していいし、
　　ポーズを短くしたければ音が始まるより後に移動していいんです。


Ｑ．このソフトで作ったポーズ情報ファイルはAudacityでも編集できるんですよね？

Ａ．よく知ってますね。
　　確かに、InsPauseで作ったポーズ情報をAudacityのラベル機能で編集できるし、
　　逆にAudacityで作ったラベルをInsPauseで編集できます。
　　でも、InsPauseだけを使ったほうが便利でしょ？
　　どうしても、Audacityで編集したいなら、Ver1.3か2以上を使ってください。
　　ラベルが編集しやすくなっています。
　　「解析」メニューの「Sound Finder」を使えば音を探してラベルを自動でつけます。
　　InsPauseもこの「Sound Finder」をほぼそのまま使っています。
　　ラベル名は、ポーズ挿入なら「p」、選択範囲カットなら「x」にしてください。
　　編集し終わったら、ラベルを書き出して、InsPauseでポーズ音声を作成してください。


/*******************************************************************************
 ライセンス
 ******************************************************************************/

アイコン　：　Attribution-Share Alike license
ソースのpersistフォルダ以下　：　wxPython license
その他　：　GPL2（詳しくはLICENSE.txtを御覧ください）


/*******************************************************************************
 作者
 ******************************************************************************/

なまえ：ワーニャ
サイト：http://vanya.jp.net/
連絡先：i@vanya.jp.net


/*******************************************************************************
 THANKS
 ******************************************************************************/

■Icon
by Momentum Design Lab
http://momentumdesignlab.com/
License : Attribution-Share Alike license

ツールバーのアイコンとプログラムアイコンに使用しています。
一部修正しています。


■PersistentControls
by Andrea Gavana
http://xoomer.virgilio.it/infinity77/main/PersistentControls.html
License : wxPython license

ウィンドウなどの状態を保存するのに使用しています。
これは便利、ありがと。


/*******************************************************************************
 歴史
 ******************************************************************************/

■ver 1.10 [2012/09/30]
・windowsで再生できなかった環境でも、再生できる可能性を増やした

■ver 1.09 [2012/09/24]
・settings.iniでカスタマイズができるようにした
・ポーズ音声からポーズファイルをつくる処理を改善した
・「境界を再生」ボタンを「もしカット再生」に変更
　（もしカットした場合にどんな感じでポーズが入るか確認するため）

■ver 1.08 [2012/09/19]
・手作業でつくったポーズ音声からポーズファイルをつくる機能を追加

■ver 1.07 [2012/09/17]
・Momentum Design Labのアイコンを使うように変更
・ウィンドウサイズや前回開いていたファイルを記憶するよう修正
・範囲再生を廃止
・いきなり音で始まっていたり、音がある状態で終わるwavのポーズを検索できない
　バグを修正
・Ubuntuで波形をスクロールできなかったバグを修正
・多重起動禁止（Windowsのみ）するよう修正
・スプリッターの動きを改善
・ドラッグスクロール時のマウスキャプチャバグ修正

■ver 1.06 [2012/09/15]
・『境界を再生』（選択範囲の最後当たりを短いポーズ入りで再生）を追加
・ドラッグでスクロールするように修正

■ver 1.05 [2012/09/14]
・入力できる数字の桁を変更
・『無音の最低長さ』が短くても機能するように修正
・範囲移動のつまみが有効なときに線を表示するよう修正
・『もとに戻す』ショートカットキー追加
・Shiftキーを押しながら範囲を移動すると、隣り合った範囲と重ならないように修正
・Ctrlキーを押しながら範囲を移動すると、隣り合った近い範囲と同時移動するよう修正

■ver 1.04 [2012/09/12]
・フォルダをドラッグしたとき、１番上のファイルの波形を表示
・アイコンの変更（誰かかっこいいアイコンつくってよ）
・ショートカットキーをいくつか追加

■ver 1.03 [2012/09/11]
・Ubuntuでも無音レベルを操作できるようにバグ修正

■ver 1.02 [2012/09/11]
・wavファイルもドラッグ可能に修正
・iconエラーを無視するよう修正

■ver 1.01 [2012/09/11]
・ラベルファイルがなくてもポーズ音声を作れるように修正

■ver 1.00 [2012/09/05]
・公開

